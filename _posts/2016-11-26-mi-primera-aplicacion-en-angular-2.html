---
layout: post
title: Mi primera aplicación en Angular 2
date: '2016-11-26T03:56:00.007-08:00'
author: Víctor Goñi Sanz
tags: 
modified_time: '2016-11-26T03:58:46.654-08:00'
blogger_id: tag:blogger.com,1999:blog-6467978542944906802.post-1975353302763689968
blogger_orig_url: http://vgoni.blogspot.com/2016/11/mi-primera-aplicacion-en-angular-2.html
---

<h3>Introducción:</h3><br />Angular es un framework Open source mantenido por Google para desarrollar en Javascript y TypeScript aplicaciones web de una sola página basadas en el modelo vista controlador (MVC). Combinadas con el framework Electron, puede ser usadas para creas aplicaciones nativas en cualquier plataforma, utilizando otros recursos como scripts de python, c++, etc.<br /><br />Este articulo va a resumir los detalles que aparecen en la web de <a href="https://angular.io/docs/ts/latest/guide/">documentación oficial</a>, de forma resumida en el caso de TypeScript.<br /><h3>Requisitos:</h3><ul><li>Nodejs</li><li>npm</li></ul>Para ver si los tienes instalados, ejecuta en el terminal:&nbsp;&nbsp; <br /><blockquote class="tr_bq">node -v<br />npm -v</blockquote>Si no aparecen sus respectivas versiones, instalalos.<br /><br /><h3>Crear un proyecto nuevo de forma manual:</h3><h3>&nbsp;</h3>En esta sección crearemos un proyecto de forma manual en unos sencillos pasos.<br /><br /><h4>Crear los ficheros de configuración</h4><h4>&nbsp;</h4>Para crear un proyecto, necesitas una carpeta en el sistema, y crear unos ficheros de configuración:<br /><ul><li>package.json: Contiene todas las dependencias del proyecto manejadas por npm</li><li>tsconfig.json: Contiene la forma de compilar TypeScript para generar el Javascript final.</li><li>typings.json: Contiene las definiciones adicionales que no se encuentren de forma nativa.</li><li>systemjs.config.js: Contiene toda la información que se necesita para cargar el módulo.</li></ul>Tienes un ejemplo de estos ficheros <a href="https://angular.io/docs/ts/latest/quickstart.html">aquí</a><br /><br /><h3>Conceptos básicos de una app</h3><h3>&nbsp;</h3><ul><li>Una clase es un modelo que define un conjunto de variables y métodos para operar datos y estados según un comportamiento.</li><li>Un componente es una parte de la descomposición de un sistema en funcionalidades o lógica mediante interfaces. Tiene un componente de abstracción más alto que una clase ya que no tiene estados. <a href="http://www.siddharthpandey.net/use-angularjs-components-with-typescript/">Cómo usarlos</a>. Cada componente es reutilizable y pueden aceptar inputs definidos en la exportación de la clase.</li><li>Un modulo es una porción del programa, que realiza una o varias tareas para cumplor unos objetivos. Son convocados por otro del mismo o superior nivel.</li><li>Una directiva es una operación lógica básica.</li><li>Todos los componentes que no sean ficheros de configuración y la interfaz html estarán en la carpeta app.</li><li>El código HTML y CSS de un componente puede ser añadido inline de varias lineas usando la comilla \`</li><li>Además, se puede tener en un fichero separado e incluir con los tags templateUrl y array styleUrls respectivamente. </li></ul><h3>&nbsp;</h3><h3>Nomenclatura</h3><h3>&nbsp;</h3><ul><li>app es la carpeta que contiene todos los elementos de la aplicación.</li><li>Los nombre de los elementos (clases, módulos, servicios...) serán del tipo Mayuscula cada palabra sin espacios. Ej: SpecialSuperHeroService</li><li>Los nombres de los ficheros derivan del anterior por la regla del <a href="https://angular.io/docs/ts/latest/guide/glossary.html#!#dash-case">dash-case</a>. Ej: special-super-hero.service.ts</li><li>*.ts es el nombre de cualquier clase.</li><li>*.components.ts es el nombre de cualquier componente.</li><li>*.services.ts es el nombre de cualquier servicio.</li></ul><br /><h3>Instalar las dependencias definidas en los ficheros de configuración</h3><h3>&nbsp;</h3>Para instalar todo lo contenido en el package.json ejecuta:<br /><blockquote class="tr_bq">npm install</blockquote>Esto creara las carpetas:<br /><ul><li>node_modules: Contiene todas las dependencias de npm</li><li>typings: Contiene lo necesario para compilar TypeScript</li></ul><br /><h3>Crear la aplicación</h3><h3>&nbsp;</h3><ul><li>Crea la carpeta app. Los siguientes ficheros irán dentro de esta carpeta.</li><li>Crea el fichero app.module.ts, que contenta los módulos que requiere tu proyecto. [Más info](https://angular.io/docs/ts/latest/quickstart.html)</li><li>Crea un componente básico 'AppComponent', y añadelo en el fichero de modulos.</li><li>Crea el fichero main.ts que es el punto de entrada de la aplicación.</li></ul><h3>&nbsp;</h3><h3>Aspecto y carga de las dependencias js en HTML</h3><h3>&nbsp;</h3><ul><li>Crea en la carpeta base el fichero index.html con el aspecto estático de la aplicación.</li><li>Crea el fichero styles.css y dale el aspecto que quieras.</li></ul><h3>&nbsp;</h3><h3>Ejecuta la aplicación</h3><h3>&nbsp;</h3>Si todos los pasos anteriores son correctos, solo te queda ejecutarla:<br /><blockquote class="tr_bq">npm start</blockquote><h3>&nbsp;</h3><h3>Tu primera edición</h3><h3>&nbsp;</h3>Si quieres cambiar un poco la web, solo tienes que ir al fichero app.components.ts y editarlo. Si cambias la etiqueta de entrada, no olvides cambiarla también en index.html<br /><h2>&nbsp;</h2><h2>Un tutorial serio</h2><h2>&nbsp;</h2>Para que veas todo el potencial que ofrece esta herramienta, te recomiendo que sigas el tutorial <a href="https://angular.io/docs/ts/latest/tutorial/">Tour of Heroes</a> en la página oficial. Tras hacerlo y asimilarlo, tengo ya preparada una versión completa. Puedes usar <a href="https://angular.io/resources/live-examples/toh-6/ts/plnkr.html">una versión online</a>, si quieres saltarte el paso de aprenderlo o <a href="https://www.blogger.com/git@github.com:angular/quickstart.git">bajar el código</a> del repositorio oficial.<br /><h3>&nbsp;</h3><h3>Aspectos básicos</h3><h3>&nbsp;</h3><h4>General</h4><ul><li>Las importaciones de componentes necesarios deben declararse en app.module.ts.</li><li>Todas las importaciones de clases necesarias deben declararse en el *.component.ts que las necesite.</li><li>app.component.ts debe ser usado para administrar la navegación por la aplicación a nivel global.</li><li>Las clases nuevas son *.ts; Los componentes son programados en el *.components.ts, se separan por el [principio de responsabilidad única](https://8thlight.com/blog/uncle-bob/2014/05/08/SingleReponsibilityPrinciple.html)</li><li>Decorator es un patrón de diseño que permite añadir dinámicamente funcionalidades a un objeto.</li><li>Promise es un elemento que permite obtener datos de forma asincrona, cuando esten listos.</li><li>Se puede añadir diversas etiquetas a un componente. Por ejemplo: selector, template, styles...</li><li>Las clases pueden tener atributos como number, string, o incluso otras clases.</li><li>Se pueden declarar valores constantes y arrays en app.component.ts</li><li>Toda directiva que empiece por ng es especial. ngModel, <a href="https://angular.io/docs/ts/latest/api/common/index/NgIf-directive.html">ngIf</a>,&nbsp; <a href="https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html">ngFor</a>...</li><li>La directiva ngModel puede usarse para que elementos de la interfaz editados sean propagados en tiempo real.</li><li>Se pueden añadir directivas a etiquetas HTML para que hagan algo en ejecución, por ejemplo, rellenar un objeto hero con valores del array heroes y su correspondiente callback:</li></ul><blockquote class="tr_bq">&lt;li *ngFor="let hero of heroes" (click)="onSelect(hero)&gt;</blockquote><ul><li>Para todo fichero, al principio se usarán los imports, al final los exports, y en medio el código que lo componga.</li><li>En el ciclo de desarrollo se puede usar objectos mock (Ad-hoc para una funcionalidad) para definir datos que necesitamos para probar la funcionalidad.</li><li>Alternativamente podemos usar un InMemoryWebApiModule, simulando peticiones HTTP a un API en memoria.</li><li>Dicho API se puede sustituir por uno real </li></ul><h4>Ciclo de vida</h4>El ciclo de vida (o <a href="https://angular.io/docs/ts/latest/guide/lifecycle-hooks.html">Component Lifecycle</a>) es un conjunto de callbacks que son llamados en distintos momentos de la ejecución cuando suceden eventos. <br /><ul><li>Necesitas importarlos de @angular/core</li><li>OnInit: Init</li></ul><h4>Avanzado</h4><ul><li>Crear variables o funciones private o publicas, solo afecta a la compilación para ver cosas, no se ve influenciada la salida en javascript. Sin embargo puede ser una buena práctica usarlas para asegurarnos que la implementación y uso se ajusta al diseño.</li></ul><h2>&nbsp;</h2><h2>Generar documentación [Inestable]</h2><h2>&nbsp;</h2>Si te gusta tener las cosas bien documentadas, entonces vas a necesitar esta herramienta. <a href="http://typedoc.org/guides">Typedoc</a> genera la documentación a partir de TypeScript. NO FUNCIONA bien DE MOMENTO! Tan pronto como salga de beta y de menos problemas lo actualizaré<br /><h3>&nbsp;</h3><h3>Instalación</h3><h3>&nbsp;</h3><blockquote class="tr_bq">npm install --save-dev @types/core-js&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Local Install working with Angular2JS<br />typedoc -v&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Check installation</blockquote><h3>&nbsp;</h3><h3>Usage</h3><h3>&nbsp;</h3>Usarlo es tan sencillo como teclear:<br /><blockquote>typedoc --out &lt;path/to/documentation/&gt;</blockquote>Por ejemplo:<br /><blockquote class="tr_bq">mkdir doc&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Crear path doc<br />typedoc --out doc app&nbsp;&nbsp; # Generar</blockquote>En una próxima entrada enseñaré como meter este repositorio en una aplicación nativa usando el <a href="http://electron.atom.io/">framework electron</a>